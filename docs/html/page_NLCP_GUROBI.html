<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CRONOS: Nonlinear Constraint Projection using MC++ and GUROBI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CRONOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_NLCP_GUROBI.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Nonlinear Constraint Projection using MC++ and GUROBI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Benoit C. Chachuat <code>(<a href="#" onclick="location.href='mai'+'lto:'+'b.c'+'ha'+'chu'+'at'+'@im'+'pe'+'ria'+'l.'+'ac.'+'uk'; return false;">b.cha<span style="display: none;">.nosp@m.</span>chua<span style="display: none;">.nosp@m.</span>t@imp<span style="display: none;">.nosp@m.</span>eria<span style="display: none;">.nosp@m.</span>l.ac.<span style="display: none;">.nosp@m.</span>uk</a>)</code> and OMEGA Research Group (<a href="http://www3.imperial.ac.uk/environmentenergyoptimisation">http://www3.imperial.ac.uk/environmentenergyoptimisation</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2015 </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>No known bugs.</dd></dl>
<p>Consider a set of nonlinear constraints in the form: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} \mathcal{C}:\quad &amp; g_j(x_1,\ldots,x_n)\ \leq,=,\geq\ 0,\ \ j=1,\ldots,m\\ &amp; \quad x_i^L\leq x_i\leq x_i^U,\ \ i=1,\ldots,n\,, \end{align*}" src="form_9.png"/>
</p>
<p> where <img class="formulaInl" alt="$g_1, \ldots, g_m$" src="form_10.png"/> are factorable, potentially nonlinear, real-valued functions; and <img class="formulaInl" alt="$x_1, \ldots, x_n$" src="form_7.png"/> can be either continuous or integer decision variables. The class <a class="el" href="classmc_1_1NLCP__GUROBI.html" title="C++ class for nonlinear constraint projection using complete search. ">mc::NLCP_GUROBI</a> computes an enclosure of all the solutions of <img class="formulaInl" alt="$(\mathcal{C})$" src="form_20.png"/> using complete search. The main method implemented in <a class="el" href="classmc_1_1NLCP__GUROBI.html" title="C++ class for nonlinear constraint projection using complete search. ">mc::NLCP_GUROBI</a> is set inversion, as first proposed by Walter and coworkers. The bounds and relaxations for the nonlinear or nonconvex constraints in <img class="formulaInl" alt="$(\mathcal{C}$" src="form_11.png"/> are computed using various arithmetics in <a href="https://projects.coin-or.org/MCpp">MC++</a>.</p>
<h1><a class="anchor" id="sec_NLCP_GUROBI_setup"></a>
How do I setup my constraint projection model?</h1>
<p>Consider the system of nonlinear constraints: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} (1.-R) * (D/10/(1+b1)-x) * exp(10*x/(1+10*x/g)) - x &amp; = 0\\ x - (1+b2)*y + (1.-R)*(D/10-b1*x-(1+b2)*y)*exp(10*y/(1+10*y/g)) &amp; = 0\,, \end{align*}" src="form_12.png"/>
</p>
<p> with <img class="formulaInl" alt="$(x,y) \in [0,1]^2$" src="form_13.png"/>, <img class="formulaInl" alt="$R \in [0.93,0.99]$" src="form_14.png"/>, and <img class="formulaInl" alt="$g=1000$" src="form_15.png"/>, <img class="formulaInl" alt="$D=22$" src="form_16.png"/>, <img class="formulaInl" alt="$b1=2$" src="form_17.png"/>, <img class="formulaInl" alt="$b2=2$" src="form_18.png"/>.</p>
<p>First, we define an <a class="el" href="classmc_1_1NLCP__GUROBI.html" title="C++ class for nonlinear constraint projection using complete search. ">mc::NLCP_GUROBI</a> class as below:</p>
<div class="fragment"><div class="line"><a class="code" href="classmc_1_1NLCP__GUROBI.html">mc::NLCP_GUROBI</a> CP;</div>
</div><!-- fragment --><p>Next, we set the variables and objective/constraint functions by creating a direct acyclic graph (DAG) of the problem:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;NLCP_GUROBI.hpp&quot;</span></div>
<div class="line"></div>
<div class="line">mc::FFGraph DAG;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> NP = 3, NC = 2;</div>
<div class="line">mc::FFVar P[NP], C[NC];</div>
<div class="line"><span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;NP; i++ ) P[i].set( &amp;DAG );</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">double</span> g=1e3, D=22., b1=2., b2=2.;</div>
<div class="line">mc::FFVar R = P[2];</div>
<div class="line">Y[0] = (1.-R)*(D/10/(1+b1)-P[0])*mc::exp(10*P[0]/(1+10*P[0]/g))-P[0];</div>
<div class="line">Y[1] = P[0]-(1+b2)*P[1]+(1.-R)*(D/10-b1*P[0]-(1+b2)*P[1])*mc::exp(10*P[1]/(1+10*P[1]/g));</div>
<div class="line"></div>
<div class="line"><a class="code" href="classmc_1_1NLCP__GUROBI.html">mc::NLCP_GUROBI&lt;I&gt;</a> CP;</div>
<div class="line">CP.set_dag( &amp;DAG );</div>
<div class="line">CP.set_par( NP, P );</div>
<div class="line">CP.set_dep( NY, Y );</div>
<div class="line"></div>
<div class="line">mc::FFGraph DAG;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> NP = 4; mc::FFVar p[NP];</div>
<div class="line"><span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i&lt;NP; i++ ) p[i].set( &amp;DAG );</div>
<div class="line"></div>
<div class="line">NLP.set_dag( &amp;DAG );  <span class="comment">// DAG</span></div>
<div class="line">NLP.set_var( NP, p ); <span class="comment">// decision variables</span></div>
<div class="line">NLP.set_obj( mc::BASE_NLP::MIN, (p[0]*p[3])*(p[0]+p[1]+p[2])+p[2] ); <span class="comment">// ojective</span></div>
<div class="line">NLP.add_ctr( mc::BASE_NLP::GE,  (p[0]*p[3])*p[1]*p[2]-25 );          <span class="comment">// constraints</span></div>
<div class="line">NLP.add_ctr( mc::BASE_NLP::EQ,  sqr(p[0])+sqr(p[1])+sqr(p[2])+sqr(p[3])-40 );</div>
<div class="line">NLP.<a class="code" href="group__NLGO__GUROBI.html#ga37fa190ca7e26eb2970f33387a71ccab">setup</a>();</div>
</div><!-- fragment --><p>The variable bounds and types are passed to <a class="el" href="classmc_1_1NLGO__GUROBI.html" title="C++ class for global optimization of NLP and MINLP using complete search. ">mc::NLGO_GUROBI</a> in invoking the various methods, as described below.</p>
<h1><a class="anchor" id="sec_NLGO_GUROBI_methods"></a>
What are the methods available?</h1>
<p>Other options can be modified to tailor the search, including output level, maximum number of iterations, tolerances, maximum CPU time, etc. These options can be modified through the public member mc::NLCP_GUROBI::options. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Oct 7 2015 20:40:15 for CRONOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
